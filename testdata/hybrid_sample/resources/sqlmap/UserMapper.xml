<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.company.legacy.UserMapper">
    
    <!-- 인증 정보로 사용자 조회 -->
    <select id="selectUserByCredentials" parameterType="map" resultType="map">
        SELECT 
            user_id AS userId,
            user_name AS userName,
            email,
            role,
            created_at AS createdAt
        FROM tb_user
        WHERE user_id = #{userId}
          AND password = #{password}
          AND use_yn = 'Y'
    </select>
    
    <!-- 전체 사용자 목록 조회 -->
    <select id="selectAllUsers" resultType="map">
        SELECT 
            user_id AS userId,
            user_name AS userName,
            email,
            role,
            last_login AS lastLogin,
            created_at AS createdAt
        FROM tb_user
        WHERE use_yn = 'Y'
        ORDER BY created_at DESC
    </select>
    
</mapper>
